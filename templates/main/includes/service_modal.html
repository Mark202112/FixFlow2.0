<div id="serviceModal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
    <div onclick="closeServiceModal()" class="absolute inset-0 bg-black/60 backdrop-blur-xl transition-opacity duration-300 opacity-0" id="modalOverlay"></div>
    
    <div class="relative bg-[#0a0f2c]/90 border border-white/20 w-full max-w-lg p-8 md:p-10 shadow-[0_0_50px_rgba(0,0,0,0.5)] transform transition-all duration-300 scale-90 opacity-0 z-10 rounded-3xl backdrop-blur-2xl" id="modalContainer">
        
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-20 h-1 bg-brand-blue/30 rounded-b-full"></div>

        <button onclick="closeServiceModal()" class="absolute top-6 right-6 text-gray-500 hover:text-brand-blue hover:rotate-90 transition-all duration-300">
            <i class="fas fa-times text-xl"></i>
        </button>
        
        <div id="modalData" class="space-y-6"></div>

        <div class="mt-8 pt-6 border-t border-white/5 flex justify-end">
            <button onclick="closeServiceModal()" class="text-brand-blue text-[10px] font-bold uppercase tracking-[0.2em] hover:text-white transition-colors">
                Закрити вікно
            </button>
        </div>
    </div>
</div>

<script>
const serviceInfo = {
    'phones': {
        title: 'Ремонт смартфонів',
        text: 'Професійне відновлення гаджетів будь-якої складності.',
        price: 'Від 250 ₴',
        features: ['Заміна екрана', 'Заміна акумулятора', 'Ремонт після залиття']
    },
    'laptops': {
        title: 'Ремонт ноутбуків',
        text: 'Комплексне обслуговування ноутбуків усіх брендів.',
        price: 'Від 400 ₴',
        features: ['Чистка та термопаста', 'Ремонт матриці']
    },
    'pc': {
        title: 'Ремонт ПК',
        text: 'Діагностика та модернізація стаціонарних комп’ютерів.',
        price: 'Від 300 ₴',
        features: ['Апгрейд системи', 'Збірка під ключ']
    }
};

function openServiceModal(id) {
    const data = serviceInfo[id];
    const modal = document.getElementById('serviceModal');
    const container = document.getElementById('modalContainer');
    const overlay = document.getElementById('modalOverlay');
    
    document.getElementById('modalData').innerHTML = `
        <span class="text-brand-blue text-[10px] font-bold uppercase tracking-[0.3em] block">Послуга</span>
        <h2 class="text-3xl font-bold text-white italic">${data.title}</h2>
        <div class="h-px w-12 bg-brand-blue"></div>
        <p class="text-gray-400 leading-relaxed text-sm">${data.text}</p>
        <div class="space-y-3">
            ${data.features.map(f => `<div class="flex items-center text-xs text-gray-300"><i class="fas fa-check text-brand-blue mr-3 text-[10px]"></i>${f}</div>`).join('')}
        </div>
        <div class="pt-4 flex items-baseline gap-2">
            <span class="text-gray-500 text-[10px] uppercase font-bold tracking-widest">Орієнтовна вартість:</span>
            <span class="text-2xl font-black text-white">${data.price}</span>
        </div>
    `;
    
    modal.classList.remove('hidden');
    setTimeout(() => {
        overlay.classList.add('opacity-100');
        container.classList.remove('scale-90', 'opacity-0');
        container.classList.add('scale-100', 'opacity-100');
    }, 10);
}

function closeServiceModal() {
    const modal = document.getElementById('serviceModal');
    const container = document.getElementById('modalContainer');
    const overlay = document.getElementById('modalOverlay');
    try {
        container.classList.remove('scale-100', 'opacity-100');
        container.classList.add('scale-90', 'opacity-0');
        overlay.classList.remove('opacity-100');
        overlay.classList.add('opacity-0');
        setTimeout(() => {
            if (modal) modal.classList.add('hidden');
        }, 300);
    } catch (e) {
        if (modal) modal.classList.add('hidden');
        console.error('closeServiceModal error:', e);
    }
}
</script>
